(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),s=a.n(r),c=a(11),i=a.n(c),o=(a(108),a(109),a(15)),l=a(86),u=a(46),j=a.n(u),m=a(61),d=a(20),b=(a(111),a(180)),f=a(84),x=a.n(f),O=a(192),h=a(187),p=a(196),g=a(190),v=a(185),y=a(181),C=a(174);function w(e){return Object(n.jsxs)(C.a,{container:!0,spacing:3,children:[Object(n.jsx)(C.a,{item:!0,xs:3,children:Object(n.jsx)(g.a,{name:"freeText",fullWidth:!0,label:"Free text",value:e.freeText,onChange:function(t){return e.setFreeText(t.target.value)},InputProps:{startAdornment:Object(n.jsx)(b.a,{position:"start",children:Object(n.jsx)(x.a,{})})}})}),Object(n.jsxs)(C.a,{item:!0,xs:2,children:[Object(n.jsx)(O.a,{shrink:!0,children:"Type"}),Object(n.jsxs)(h.a,{name:"type",fullWidth:!0,className:"filter-type",value:e.type,onChange:function(t){return e.setType(t.target.value)},displayEmpty:!0,children:[Object(n.jsx)(p.a,{value:"",children:Object(n.jsx)("em",{children:"All"})}),["Movie","Series"].map((function(e){return Object(n.jsx)(p.a,{value:e,children:e},e)}))]})]}),Object(n.jsx)(C.a,{item:!0,xs:2,children:Object(n.jsx)(g.a,{name:"fromRating",fullWidth:!0,className:"filter-rating",label:"From Rating",type:"number",error:e.fromRating&&e.fromRating<0||e.fromRating>10,value:e.fromRating,onChange:function(t){return e.setFromRating(t.target.value)},InputProps:{inputProps:{max:10,min:0,step:.1}},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(C.a,{item:!0,xs:3,children:Object(n.jsx)(v.a,{name:"fromReleasedYear",fullWidth:!0,disableToolbar:!0,views:["year"],variant:"inline",format:"yyyy",label:"From Year",maxDate:new Date,value:e.fromReleasedYear,onChange:function(t){return e.setFromReleasedYear(t)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsx)(C.a,{item:!0,xs:2,children:Object(n.jsx)(y.a,{className:"filter-btn",fullWidth:!0,variant:"outlined",onClick:function(){e.setFreeText(""),e.setType(""),e.setFromRating(null),e.setFromReleasedYear(null)},children:"Clear filters"})})]})}var R=a(147),T=a(191),k=a(184),F=a(183),P=a(85),S=a.n(P),L=a(45),N=a.n(L);function Y(e){return Object(n.jsxs)(T.a,{fullScreen:!0,open:!0,onClose:e.handleBackClick,children:[Object(n.jsx)(k.a,{children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(y.a,{className:"backBtn",color:"inherit",onClick:e.handleBackClick,"aria-label":"close",children:[Object(n.jsx)(S.a,{})," Back to All"]})})}),Object(n.jsxs)("div",{className:"more-info-content",children:[Object(n.jsx)("span",{className:"movie-details-content",children:Object(n.jsx)("img",{src:e.movie.largeimage,alt:""})}),Object(n.jsxs)("div",{className:"details",children:[Object(n.jsx)(R.a,{variant:"h6",children:Object(n.jsx)("b",{children:N()(e.movie.title)})}),Object(n.jsx)(R.a,{children:e.movie.released+" | "+e.movie.runtime+(e.movie.rating?" | "+e.movie.rating+"/10":"")}),Object(n.jsx)("br",{}),Object(n.jsx)(R.a,{className:"synopsis",children:N()(e.movie.synopsis)})]})]})]})}var B=a.p+"static/media/next-movies-logo.efd3020d.png",D=a(188);function M(e){return Object(n.jsxs)("div",{className:"movie",onClick:function(){return e.openMoreDetails(e.item.id)},children:[Object(n.jsx)("div",{className:"movie-image",children:Object(n.jsx)("img",{alt:"",src:e.item.image})}),Object(n.jsx)("h4",{children:N()(e.item.title)})]})}function E(e){var t=Object(r.useState)(0),a=Object(d.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)(10),o=Object(d.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){c(0)}),[e.items]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"movies",children:e.items.slice(s*l,s*l+l).map((function(t){return Object(n.jsx)(M,{item:t,openMoreDetails:e.openMoreDetails})}))}),Object(n.jsx)(D.a,{rowsPerPageOptions:[10,50,100],component:"div",count:e.items.length,rowsPerPage:l,labelRowsPerPage:"Movies per page",page:s,onChangePage:function(e,t){c(t)},onChangeRowsPerPage:function(e){u(+e.target.value),c(0)}})]})}var I=a(62),W=a.n(I),A="http://localhost:3001";function J(e){return W.a.get(A+"/movies/"+e)}function K(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)([]),i=Object(d.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(),b=Object(d.a)(u,2),f=b[0],x=b[1],O=Object(r.useState)(""),h=Object(d.a)(O,2),p=h[0],g=h[1],v=Object(r.useState)(""),y=Object(d.a)(v,2),C=y[0],R=y[1],T=Object(r.useState)(null),k=Object(d.a)(T,2),F=k[0],P=k[1],S=Object(r.useState)(null),L=Object(d.a)(S,2),N=L[0],D=L[1];function M(e){var t=a.slice();e.freeText&&(t=t.filter((function(t){return t.title.toLowerCase().includes(e.freeText.toLowerCase())||t.synopsis.toLowerCase().includes(e.freeText.toLowerCase())||t.rating.toString().includes(e.freeText)||t.type.toLowerCase().includes(e.freeText.toLowerCase())||t.released.toString().toLowerCase().includes(e.freeText.toLowerCase())}))),e.fromReleasedYear&&(t=t.filter((function(t){return t.released>=e.fromReleasedYear.getFullYear()}))),e.fromRating&&(t=t.filter((function(t){return t.rating>=e.fromRating}))),e.type&&(t=t.filter((function(t){return t.type.toLowerCase()===e.type.toLowerCase()}))),l(t)}function I(){return(I=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t);case 3:a=e.sent,x(a.data[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("error occurred while trying to get data from server "+e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get(A+"/movies");case 3:t=e.sent,s(t.data),l(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("error occurred while trying to get data from server "+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(r.useEffect)((function(){M({freeText:p,fromReleasedYear:N,fromRating:F,type:C})}),[p,C,N,F]),Object(n.jsxs)("div",{className:"main-comp",children:[Object(n.jsx)("img",{className:"logo",src:B,alt:""}),Object(n.jsx)(w,{handleFilter:M,freeText:p,setFreeText:g,type:C,setType:R,fromRating:F,setFromRating:P,fromReleasedYear:N,setFromReleasedYear:D}),Object(n.jsx)(E,{items:o,openMoreDetails:function(e){return I.apply(this,arguments)}}),f&&Object(n.jsx)(Y,{movie:f,handleBackClick:function(){x(void 0)}})]})}var q=function(){return Object(n.jsx)(o.a,{utils:l.a,children:Object(n.jsx)(K,{})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,197)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root")),z()}},[[145,1,2]]]);
//# sourceMappingURL=main.e805e478.chunk.js.map